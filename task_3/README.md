# Задание 3

В файле "task_3/query/base_query.sql" находится SQL запрос к базе данных согласно заданию, описанному в корневом README.md.

В файле "task_3/query/base_query.sql" находится тот же SQL запрос с комментариями:
```SQL
-- Обращаю внимание, что запрос примерный и может быть оптимизирован при уточнении структуры хранилища и тестировании

-- UPDATE запрос с использованием оператора конкатенации строк SQL и выборки по конкретному fact_detail_ID
UPDATE fact_detail SET add_info = add_info || '{text}' WHERE fact_detail_ID = {fact_detail_id}
```

Здесь удобно использовать похожие инструменты, что были реализованы в task_1 и конкатенационный UPDATE запрос (форматируемая строка), с добавляемым текстом и fact_detail_id.

Также в данном блоке реализовано подключение к базе при помощи библиотек языка Python:
* Запросы лежат в папке query
* Остальные методы расположены в папке utils: в каждом из соответствующих файлов есть комментарий и описана логика его работы
* При запуске main.py из командной строки реализован парсинг аргументов, где:
  *  --query_path есть путь до файла .sql с UPDATE запросом
  *  --id есть fact_detail_id
  *  --text есть текст, добавляемый в обновляемое поле к уже существующему
* Запуск скрипта может быть проведен следующим образом:
```bash
  python task_3\main.py --id 111 --text  zxc --query_path task_3\query\base_query.sql
```
